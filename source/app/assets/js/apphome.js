var qrData;!function(){"use strict";var qrcode;const appHomeElement=document.querySelector("app-home");if(void 0!==appHomeElement.waterRangeValue){var oneElemIsNull=!1;let list;return document.querySelectorAll("custom-range").forEach(element=>{null==element.value&&(oneElemIsNull=!0)}),void(!0===oneElemIsNull?setTimeout(()=>{loadRangeValuesDirect()},50):loadRangeValuesDirect())}var qrCodeSize=appHomeElement.getBoundingClientRect().width<320?96:145,options=new Object;options.width=qrCodeSize,options.height=qrCodeSize,options.correctLevel=QRCode.CorrectLevel.Q;var qrCodeDiv=document.getElementById("qrcode"),list;null!=qrCodeDiv?qrcode=new QRCode(qrCodeDiv,options):console.log("onload - qrCodeDiv is null..."),document.querySelectorAll("custom-range").forEach(element=>{element.addEventListener("ionChange",makeCode),element.addEventListener("ionChange",storeRangeValues)});var tempIcon=document.getElementById("tempicon");function onTemperatureIconClick(){let list;document.querySelectorAll("custom-range").forEach(element=>{switch(element.name){case"eyes-size-range":appHomeElement.eyeSizeValue=element.value;break;case"water-range":appHomeElement.waterRangeValue={lower:element.value.lower,upper:element.value.upper};break;case"sun-range":appHomeElement.illuminanceRangeValue={lower:element.value.lower,upper:element.value.upper};break;case"temperature-range":"°C"===appHomeElement.temperatureUnit?(appHomeElement.temperatureUnit="°F",appHomeElement.temperatureRangeValue={lower:convertCelsiusToFahrenheit(element.value.lower),upper:convertCelsiusToFahrenheit(element.value.upper)}):(appHomeElement.temperatureUnit="°C",appHomeElement.temperatureRangeValue={lower:convertFahrenheitToCelsius(element.value.lower),upper:convertFahrenheitToCelsius(element.value.upper)})}}),updateTemperatureMinAndMax(),storeTemperatureUnit()}function updateTemperatureMinAndMax(){"°C"===appHomeElement.temperatureUnit?(appHomeElement.mintemperature=0,appHomeElement.maxtemperature=40):(appHomeElement.mintemperature=convertCelsiusToFahrenheit(0),appHomeElement.maxtemperature=convertCelsiusToFahrenheit(40))}function convertCelsiusToFahrenheit(celsiusValue){return 9*celsiusValue/5+32}function convertFahrenheitToCelsius(fahrenheitValue){return Math.round(5*(fahrenheitValue-32)/9)}function makeCode(_eyeSizeValue,_waterLowerValue,_waterUpperValue,_illuminanceLowerValue,_illuminanceUpperValue,_temperatureLowerValue,_temperatureUpperValue){if(null==_waterLowerValue){let list;document.querySelectorAll("custom-range").forEach(element=>{switch(element.name){case"eyes-size-range":_eyeSizeValue=element.value;break;case"water-range":_waterLowerValue=element.value.lower,_waterUpperValue=element.value.upper;break;case"sun-range":_illuminanceLowerValue=element.value.lower,_illuminanceUpperValue=element.value.upper;break;case"temperature-range":"°C"===appHomeElement.temperatureUnit?(_temperatureLowerValue=element.value.lower,_temperatureUpperValue=element.value.upper):(_temperatureLowerValue=convertFahrenheitToCelsius(element.value.lower),_temperatureUpperValue=convertFahrenheitToCelsius(element.value.upper))}})}if(null==_waterLowerValue)return;let illuminanceLowerValueTens=_illuminanceLowerValue/10,illuminanceUpperValueTens=_illuminanceUpperValue/10,data="S";data+=String.fromCharCode(15),data+=String.fromCharCode(_eyeSizeValue),data+=String.fromCharCode(_temperatureLowerValue),data+=String.fromCharCode(_temperatureUpperValue),data+=String.fromCharCode(_waterLowerValue),data+=String.fromCharCode(_waterUpperValue),data+=String.fromCharCode(255&illuminanceLowerValueTens),data+=String.fromCharCode(illuminanceLowerValueTens>>8&255),data+=String.fromCharCode(255&illuminanceUpperValueTens),data+=String.fromCharCode(illuminanceUpperValueTens>>8&255),data+=String.fromCharCode(0),data+=String.fromCharCode(0),data+=String.fromCharCode(0),data+=String.fromCharCode(0),data+=String.fromCharCode(0),data+=String.fromCharCode(0),qrData=data,qrcode.makeCode(data)}function loadRangeValues(){if(storageAvailable("localStorage")){let eyeSizeValue=window.localStorage.getItem("eyeSize"),waterLowerValue=window.localStorage.getItem("lowerHumidity"),waterUpperValue=window.localStorage.getItem("upperHumidity"),illuminanceLowerValue=window.localStorage.getItem("lowerIlluminance"),illuminanceUpperValue=window.localStorage.getItem("upperIlluminance"),temperatureLowerValue=window.localStorage.getItem("lowerTemperature"),temperatureUpperValue=window.localStorage.getItem("upperTemperature");appHomeElement.eyeSizeValue=null!=eyeSizeValue?eyeSizeValue:15,appHomeElement.waterRangeValue=null!=waterLowerValue&&null!=waterUpperValue?{lower:waterLowerValue,upper:waterUpperValue}:{lower:40,upper:66},appHomeElement.illuminanceRangeValue=null!=illuminanceLowerValue&&null!=illuminanceUpperValue?{lower:illuminanceLowerValue,upper:illuminanceUpperValue}:{lower:1e3,upper:6e4},null!=temperatureLowerValue&&null!=temperatureUpperValue?"°C"===appHomeElement.temperatureUnit?appHomeElement.temperatureRangeValue={lower:temperatureLowerValue,upper:temperatureUpperValue}:appHomeElement.temperatureRangeValue={lower:convertCelsiusToFahrenheit(temperatureLowerValue),upper:convertCelsiusToFahrenheit(temperatureUpperValue)}:appHomeElement.temperatureRangeValue={lower:13,upper:25}}else console.log("apphome - localStorage cannot be accessed")}function loadRangeValuesDirect(){if(storageAvailable("localStorage")){let eyeSizeValue=window.localStorage.getItem("eyeSize"),waterLowerValue=window.localStorage.getItem("lowerHumidity"),waterUpperValue=window.localStorage.getItem("upperHumidity"),illuminanceLowerValue=window.localStorage.getItem("lowerIlluminance"),illuminanceUpperValue=window.localStorage.getItem("upperIlluminance"),temperatureLowerValue=window.localStorage.getItem("lowerTemperature"),temperatureUpperValue=window.localStorage.getItem("upperTemperature"),list;document.querySelectorAll("custom-range").forEach(element=>{switch(element.name){case"eyes-size-range":null!=eyeSizeValue?null!=element.value&&(element.value=eyeSizeValue):element.value=15;break;case"water-range":null!=waterLowerValue&&null!=waterUpperValue?null!=element.value&&(element.value={lower:waterLowerValue,upper:waterUpperValue}):element.value={lower:40,upper:66};break;case"sun-range":null!=illuminanceLowerValue&&null!=illuminanceUpperValue?null!=element.value&&(element.value={lower:illuminanceLowerValue,upper:illuminanceUpperValue}):element.value={lower:1e3,upper:6e4};break;case"temperature-range":if(null!=temperatureLowerValue&&null!=temperatureUpperValue){if(null!=element.value)if("°C"===appHomeElement.temperatureUnit)element.min=0,element.max=40,element.value={lower:temperatureLowerValue,upper:temperatureUpperValue};else{element.min=convertCelsiusToFahrenheit(0),element.max=convertCelsiusToFahrenheit(40);var lowerValFahrenheit=convertCelsiusToFahrenheit(temperatureLowerValue),upperValFahrenheit=convertCelsiusToFahrenheit(temperatureUpperValue);isNaN(lowerValFahrenheit)||isNaN(upperValFahrenheit)||(element.value={lower:lowerValFahrenheit,upper:upperValFahrenheit})}}else element.value={lower:13,upper:25}}})}else console.log("apphome - localStorage cannot be accessed")}function loadEyeSizeRangeValue(){if(storageAvailable("localStorage")){let eyeSizeValue=window.localStorage.getItem("eyeSize");appHomeElement.eyeSizeValue=null!=eyeSizeValue?eyeSizeValue:15}}function loadPlantNameValue(){if(storageAvailable("localStorage")){let plantNameValue=window.localStorage.getItem("plantName");appHomeElement.plantName=null!=plantNameValue?plantNameValue:"Your plant's name"}}function loadTemperatureUnit(){if(storageAvailable("localStorage")){let tempUnit=window.localStorage.getItem("temperatureUnit");appHomeElement.temperatureUnit=null!=tempUnit?tempUnit:"°C"}}function storeRangeValues(_eyeSizeValue,_waterLowerValue,_waterUpperValue,_illuminanceLowerValue,_illuminanceUpperValue,_temperatureLowerValue,_temperatureUpperValue){if(storageAvailable("localStorage")){if(null==_waterLowerValue){let list;document.querySelectorAll("custom-range").forEach(element=>{switch(element.name){case"eyes-size-range":_eyeSizeValue=element.value;break;case"water-range":_waterLowerValue=element.value.lower,_waterUpperValue=element.value.upper;break;case"sun-range":_illuminanceLowerValue=element.value.lower,_illuminanceUpperValue=element.value.upper;break;case"temperature-range":_temperatureLowerValue=element.value.lower,_temperatureUpperValue=element.value.upper}})}if("°F"===window.localStorage.getItem("temperatureUnit")){var tempLower,tempUpper=_temperatureUpperValue;_temperatureLowerValue=convertFahrenheitToCelsius(_temperatureLowerValue),_temperatureUpperValue=convertFahrenheitToCelsius(tempUpper)}null!=_eyeSizeValue&&0!==_eyeSizeValue&&window.localStorage.setItem("eyeSize",_eyeSizeValue),null!=_waterLowerValue&&window.localStorage.setItem("lowerHumidity",_waterLowerValue),null!=_waterUpperValue&&window.localStorage.setItem("upperHumidity",_waterUpperValue),null!=_illuminanceLowerValue&&window.localStorage.setItem("lowerIlluminance",_illuminanceLowerValue),null!=_illuminanceUpperValue&&window.localStorage.setItem("upperIlluminance",_illuminanceUpperValue),null==_temperatureLowerValue||isNaN(_temperatureLowerValue)||window.localStorage.setItem("lowerTemperature",_temperatureLowerValue),null==_temperatureUpperValue||isNaN(_temperatureUpperValue)||window.localStorage.setItem("upperTemperature",_temperatureUpperValue)}else console.log("apphome - localStorage cannot be accessed")}function storePlantNameValue(plantName){storageAvailable("localStorage")&&window.localStorage.setItem("plantName",plantName)}function storeTemperatureUnit(){storageAvailable("localStorage")&&window.localStorage.setItem("temperatureUnit",appHomeElement.temperatureUnit)}function storageAvailable(type){var storage;try{storage=window[type];var x="__storage_test__";return storage.setItem(x,x),storage.removeItem(x),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&storage&&0!==storage.length}}function setPlantRangeValues(plantRangeValuesArray){plantRangeValuesArray.length<6?console.log("apphome - invalid range values array size..."):(appHomeElement.waterRangeValue={lower:plantRangeValuesArray[0],upper:plantRangeValuesArray[1]},appHomeElement.illuminanceRangeValue={lower:plantRangeValuesArray[2],upper:plantRangeValuesArray[3]},"°C"===appHomeElement.temperatureUnit?appHomeElement.temperatureRangeValue={lower:plantRangeValuesArray[4],upper:plantRangeValuesArray[5]}:appHomeElement.temperatureRangeValue={lower:convertCelsiusToFahrenheit(plantRangeValuesArray[4]),upper:convertCelsiusToFahrenheit(plantRangeValuesArray[5])})}null!=tempIcon?tempIcon.addEventListener("click",onTemperatureIconClick):console.log("tempicon is null..."),appHomeElement.plantRangeValues.length>0?(loadTemperatureUnit(),updateTemperatureMinAndMax(),setPlantRangeValues(appHomeElement.plantRangeValues),appHomeElement.plantRangeValues=[],loadEyeSizeRangeValue(),storeRangeValues(appHomeElement.eyeSizeValue,appHomeElement.waterRangeValue.lower,appHomeElement.waterRangeValue.upper,appHomeElement.illuminanceRangeValue.lower,appHomeElement.illuminanceRangeValue.upper,appHomeElement.temperatureRangeValue.lower,appHomeElement.temperatureRangeValue.upper),storePlantNameValue(appHomeElement.plantName)):(loadTemperatureUnit(),updateTemperatureMinAndMax(),loadRangeValues(),loadPlantNameValue()),makeCode(appHomeElement.eyeSizeValue,appHomeElement.waterRangeValue.lower,appHomeElement.waterRangeValue.upper,appHomeElement.illuminanceRangeValue.lower,appHomeElement.illuminanceRangeValue.upper,appHomeElement.temperatureRangeValue.lower,appHomeElement.temperatureRangeValue.upper)}();